<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<title>filters POC</title>
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script>
/*

	Touch Enabled Range Slider build.0.1
	
	rangeSlider is Copyright © 2013-2018 Virgilio Cometa. It is freely distributable under the terms of an MIT-style license.

    Copyright (c) 2013-2018 Virgilio Cometa

    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

*/
function rangeSlider( objectSelector, outputSelector ){

	var r = new Object();
		r.range = $(objectSelector);
		r.output = $(outputSelector);
		r.type = r.range.data('type');
		
		
	var html = '<button class="left-handle" data-type="min"></button><button class="right-handle" data-type="max"></button><div class="cover-left"></div><div class="cover-right"></div><div class="slider-bar"></div>';	
	
	if( r.type == 'single'){
	
		html = '<button class="right-handle" data-type="max"></button><div class="cover-right"></div><div class="slider-bar"></div>';
		
	}
	
	$(html).appendTo(r.range);		
	r.button = $( r.range.find('button') );
	r.sBar = $(r.range.find('.slider-bar'));
	r.coverLeft = $( r.range.find('.cover-left'));	
	r.coverRight = $( r.range.find('.cover-right'));
	r.target = null;
	r.dragging = false;
	r.rLim = r.sBar.outerWidth() - r.button.outerWidth();
	r.outerLim = r.sBar.outerWidth() + r.button.outerWidth();
	r.minVal = parseInt( r.range.data('min') );
	r.maxVal = parseInt( r.range.data('max') );
	r.sMinVal = parseInt( r.range.data('start-min') );
	r.sMaxVal = parseInt( r.range.data('start-max') );
	r.retMin = r.minVal;
	r.retMax = r.maxVal;
	r.lastPos = 0;
	r.interval = 0.01;
	
	var getPos = function( val ){
		
		val = (val/r.maxVal)*r.rLim;
	
		return (val + document.body.scrollLeft - document.body.clientLeft)-r.button.width();
	
	}
	
	
	
	if( r.sMinVal && r.sMaxVal){
	
		var lPos = getPos(r.sMinVal),
			rPos =  getPos(r.sMaxVal);
	
		$(r.button[0]).css('left', lPos );
		r.coverLeft.width( lPos );
		
		$(r.button[1]).css('left', rPos );
		r.coverRight.width( r.rLim - rPos );
		
		r.retMin = r.sMinVal;
		r.retMax = r.sMaxVal;
		
		r.output.val( r.sMinVal+' to '+ r.sMaxVal );
	
	} else if( !r.sMinVal && r.sMaxVal){
	
		var rPos =  getPos(r.sMaxVal);
		
		$(r.button[0]).css('left', rPos );
		r.coverRight.width( r.rLim - rPos );
		
		r.retMax = r.sMaxVal;
		
		r.output.val( r.minVal+' to '+ r.sMaxVal );
	
	} else {	
	
		r.output.val( r.minVal+' to '+ r.maxVal );	
	
	}
	
	r.button.on('mousedown touchstart', function(e){
	
		e.preventDefault();
		
		r.target = $( this );
		
		startX = (e.clientX != null)?e.clientX:event.touches[0].pageX;
				
		if( startX <= r.outerLim && startX >= 0){
		
			r.dragging = true;
		
		}
	
	});

	$(document).on('mousemove touchmove', function(e){
	
		var x = (e.clientX != null)?e.clientX:event.touches[0].pageX;
	
		if( r.dragging && x <= r.outerLim && x >= 0){
		
			e.preventDefault();
		
			var pos = ((x + document.body.scrollLeft - document.body.clientLeft)-r.button.width())<0?0:(x + document.body.scrollLeft - document.body.clientLeft)-r.button.width(),
			
				isMin = ( r.target.data('type') == 'min' )?true:false,
				
				offset = ( r.type == 'double')?( r.maxVal * r.interval ):0,
				
				lTemp = r.retMin+offset,
				
				rTemp = r.retMax-offset;
				
			if( (r.retMin+offset < r.retMax-offset) ||  ( isMin && r.lastPos > pos ) || ( !isMin && r.lastPos < pos ) ){
					
				if( pos <= r.rLim ){
					
					var retVal = Math.round(r.maxVal * (pos/r.rLim));
				
					r.target.css('left', pos );
						
					if ( isMin ){
					
						r.retMin = retVal;
						
						r.coverLeft.width( pos );
						
					} else {
					
						r.retMax = retVal;
						
						r.coverRight.width( r.rLim - pos );
					
					}
					
					r.lastPos = pos;
				
				} else if( pos > r.rLim ){				
					
					r.retMax = r.maxVal;
					
					r.target.css('left', r.rLim );
				
				}
				
				r.output.val( r.retMin+' to '+ r.retMax );				
		
			}
		
		}
	
	});

	$(document).on('mouseup touchend', function(){
	
		if( r.dragging ){
		 
			r.dragging = false;
		
		}
	
	});

}

$(function() {

	var rangeArr = $('.range-slider');
	
	if( rangeArr.length > 0){
	
		for ( var i=0, j=rangeArr.length; i<j; i++ ) {
		
			var id = '#'+$(rangeArr[i]).attr('id'),
				outputID = '#'+$(rangeArr[i]).data('output');
				
			rangeSlider( id, outputID );
		
		}
	
	}

});

</script>
<style>
	@media all{
		.range-slider {
		
			position: relative;
			
			width: 300px;
			
			height: 30px;
			
			overflow: hidden;
		
		}
		
		.range-slider .slider-bar {
		
			position: absolute;
			
			top: 10px;
			
			left: 0;
		
			background: #333;
			
			width: 100%;
			
			height: 10px;
		
		}
		
		.range-slider .cover-left,

		.range-slider .cover-right {
		
			position: relative;
			
			margin: 10px auto;
			
			float: left;
			
			z-index:1;
		
			background: #ccc;
			
			width: 10px;
			
			height: 10px;
		
		}
		
		.range-slider .cover-right {
		
			float: right;
			
		}

		.range-slider button {
		
			position: absolute;
			
			top: 0;
			
			z-index: 9;
			
			width: 10px;
			
			height: 30px;
			
			border: 0;
			
			padding: 0;
			
			margin: 0;
			
			cursor: pointer;
			
			outline: none;
		
		}
		
		.range-slider .left-handle {
			
			left: 0;
			
			background: red;
		
		}
		
		.range-slider .right-handle {
			
			right: 0;
			
			background: blue;
			
		}
	}
	@media all and (max-width:767px) {
	
		.range-slider button {
		
			width: 44px;
			
			height: 44px;
		
		}
	
	}

</style>
</head>
<body>
	<div id="accordion">
		<h3>Price</h3>
		<div>
			<p>
				<input type="text" id="amount1" style="border: 0; color: #f6931f; font-weight: bold;" />
			</p>
			<div class="range-slider" id="range-slider1" data-type="single" data-min="0" data-max="500" data-output="amount1" data-start-max="450" ></div>
		</div>
		<h3>Kilometers</h3>
		<div>
			<p>
				<input type="text" id="amount2" style="border: 0; color: #f6931f; font-weight: bold;" />
			</p>
			<div class="range-slider" id="range-slider2" data-type="double" data-min="0" data-max="100000" data-output="amount2" data-start-min="15000" data-start-max="50000" ></div>
		</div>
		<h3>Age</h3>
		<div>
			<p>
				<input type="text" id="amount3" style="border: 0; color: #f6931f; font-weight: bold;" />
			</p>
			<div class="range-slider" id="range-slider3" data-type="double" data-min="0" data-max="50" data-output="amount3" ></div>
		</div>
		
		<p>
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean sit amet ante laoreet, tincidunt nibh ut, venenatis urna. Vestibulum at lorem adipiscing, posuere nisl ut, lacinia nunc. Vivamus commodo felis vel molestie lobortis. Integer odio mauris, cursus a justo a, tempor tempus enim. Fusce iaculis venenatis diam eget molestie. Vestibulum mollis mauris congue justo ultrices, vel congue magna vestibulum. In eget orci eget purus bibendum egestas nec eget ipsum. Praesent in pellentesque mauris, eu sollicitudin libero. Mauris lectus lacus, sollicitudin eget congue vel, consequat in lectus. Etiam velit massa, fringilla vel dignissim ac, suscipit at odio. Vivamus tortor nisl, bibendum vel mi sed, fringilla iaculis diam. Suspendisse at felis vel felis vulputate volutpat. Integer at hendrerit erat. Donec a enim sit amet nunc semper tincidunt eleifend at enim.
		</p>
		<p>
Pellentesque sit amet elit eget ante porta suscipit sed semper turpis. Aenean condimentum libero in augue gravida molestie. Nunc et tellus sed justo consequat vehicula. Morbi sed sem euismod, sodales nibh et, luctus diam. Donec tempus venenatis tempus. In sit amet risus vel leo sagittis feugiat at molestie neque. Proin nulla nunc, rutrum vel mi vitae, consequat scelerisque nisi. Proin dictum luctus ante, sed egestas odio gravida non.
		</p>
		<p>
Sed semper sem eget nulla laoreet, vel vehicula dolor convallis. Duis nec sapien neque. Duis eget varius ante, ac fringilla est. Mauris mi enim, semper at massa nec, fringilla rutrum turpis. Phasellus nec congue ante. Morbi sed gravida purus, in rhoncus turpis. Praesent blandit urna nunc, sed iaculis purus gravida id. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Pellentesque quis justo in ante accumsan hendrerit. Interdum et malesuada fames ac ante ipsum primis in faucibus. Quisque aliquam, orci et dictum bibendum, magna erat euismod nisi, et vestibulum neque neque euismod neque. Curabitur pretium vel turpis lacinia vehicula. Aliquam auctor tellus in enim fringilla aliquet. Proin malesuada cursus dignissim. Nulla facilisi.
		</p>
		<p>
Cras pulvinar pharetra porta. Donec in congue sapien, sit amet ornare sapien. Proin eget ullamcorper leo. Aliquam fermentum, massa eu elementum fringilla, augue nisl laoreet diam, vitae fringilla leo ante ut ligula. Nam ac vestibulum tortor, non condimentum risus. Proin mauris erat, mattis eu lorem non, sagittis lobortis sem. Aliquam sollicitudin dapibus felis, vitae laoreet sem faucibus non. Curabitur nec porta velit, in dignissim quam. Nunc eleifend quam eget arcu luctus ultrices.
		</p>
		<p>
Aliquam ac lorem enim. Cras leo dui, dapibus a metus et, interdum ornare nibh. Quisque quis justo auctor, viverra enim vel, pharetra nunc. Phasellus vehicula diam tellus, ut volutpat dolor porta quis. Maecenas ut lorem leo. Ut faucibus, neque in porta sodales, nisl ligula pharetra sem, non posuere quam mauris at erat. Morbi sagittis nisl et ipsum viverra, nec semper ipsum cursus. Fusce consequat lacus a pulvinar ultrices. Curabitur rhoncus dapibus orci eget suscipit. Nullam elementum tristique mi, vel vestibulum tortor blandit at. Mauris vestibulum in velit et sollicitudin. Morbi vitae leo quis erat dignissim tincidunt sit amet ac ligula. Sed ullamcorper rutrum eros, eget volutpat sapien sollicitudin vel. Vestibulum venenatis, orci quis bibendum semper, sapien ante semper magna, ac mattis nulla enim nec elit. Nam in euismod odio. Aliquam at ultricies nunc, a faucibus urna. 
		</p>
	</div>
</body>
</html>